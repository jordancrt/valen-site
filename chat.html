<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; script-src 'self'; style-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self'; frame-ancestors 'none'; upgrade-insecure-requests"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#0B1120"><title>Valen â€” Coach IA</title><link rel="stylesheet" href="/assets/style.css"></head><body><nav class="nav"><div class="brand"><div class="logo"></div><h1>VALEN</h1></div><div><a href="/index.html">Accueil</a><a href="/dashboard.html">Tableau de bord</a><a href="/chat.html">Coach IA</a><a href="/about.html">Ã€ propos</a><a class="lang" href="/en/index.html">English</a></div></nav><section class="container"><h2 class="h-title">Coach IA</h2><p class="sub">Posez vos questions (budget, investissement, calme financier). Ne partagez pas dâ€™infos sensibles.</p><div class="chat"><div id="log" class="chat-log"><div class="msg ai"><div class="bubble">Bonjour ğŸ‘‹ Je suis le coach IA de Valen. Comment puis-je vous aider aujourdâ€™hui ?</div></div></div><div class="inputbar"><input id="q" aria-label="question" placeholder="Ex. Comment rÃ©duire mes dÃ©penses ?" /><button id="send">Envoyer</button></div><div class="small">AI cÃ´tÃ© serveur (clÃ© API protÃ©gÃ©e).</div></div></section><footer class="footer">Â© <span data-year></span> Valen â€” Finance & Balance</footer><script>const log=document.getElementById('log');const q=document.getElementById('q');const send=document.getElementById('send');function add(role,text){const m=document.createElement('div');m.className='msg '+role;const b=document.createElement('div');b.className='bubble';b.textContent=text;m.appendChild(b);log.appendChild(m);log.scrollTop=log.scrollHeight;}async function ask(){const text=q.value.trim(); if(!text) return; add('me',text); q.value='';try{const r=await fetch('/.netlify/functions/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({question:text,lang:'fr'})});const data=await r.json(); if(!r.ok){add('ai','DÃ©solÃ©, une erreur est survenue.');return;} add('ai',data.answer||'â€¦');}catch(e){add('ai','RÃ©seau indisponible. RÃ©essayez.');}}send.addEventListener('click',ask); q.addEventListener('keydown',e=>{if(e.key==='Enter') ask();});</script></body></html>